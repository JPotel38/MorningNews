{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\lacapsule\\\\final\\\\morningnews\\\\reactapp\\\\src\\\\ScreenMyArticles.js\";\nimport React, { useState, useEffect } from 'react';\nimport './App.css';\nimport { Card, Icon, Modal } from 'antd';\nimport Nav from './Nav';\nimport { connect } from 'react-redux';\nconst {\n  Meta\n} = Card;\n\nfunction ScreenMyArticles(props) {\n  const [visible, setVisible] = useState(false);\n  const [title, setTitle] = useState('');\n  const [content, setContent] = useState('');\n  const [langFiltre, setLangFiltre] = useState('');\n  useEffect(() => {\n    const findArticlesWishList = async () => {\n      const dataWishlist = await fetch(`/wishlist-article?lang=${langFiltre}&token=${props.token}`);\n      const body = await dataWishlist.json();\n      props.saveArticles(body.articles);\n    };\n\n    findArticlesWishList();\n  }, [langFiltre]);\n\n  var deleteArticle = async title => {\n    props.deleteToWishList(title);\n    const deleteReq = await fetch('/wishlist-article', {\n      method: 'DELETE',\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      },\n      body: `title=${title}&token=${props.token}`\n    });\n  };\n\n  var filtreLang = lang => {\n    setLangFiltre(lang);\n  };\n\n  var showModal = (title, content) => {\n    setVisible(true);\n    setTitle(title);\n    setContent(content);\n  };\n\n  var handleOk = e => {\n    console.log(e);\n    setVisible(false);\n  };\n\n  var handleCancel = e => {\n    console.log(e);\n    setVisible(false);\n  };\n\n  var noArticles;\n\n  if (props.myArticles == 0) {\n    noArticles = /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        marginTop: \"30px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 18\n      }\n    }, \"No Articles\");\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Nav, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'center'\n    },\n    className: \"Banner\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    style: {\n      width: '40px',\n      margin: '10px',\n      cursor: 'pointer'\n    },\n    src: \"/images/fr.png\",\n    onClick: () => filtreLang('fr'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"img\", {\n    style: {\n      width: '40px',\n      margin: '10px',\n      cursor: 'pointer'\n    },\n    src: \"/images/uk.png\",\n    onClick: () => filtreLang('en'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  })), noArticles, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  }, props.myArticles.map((article, i) => /*#__PURE__*/React.createElement(\"div\", {\n    key: i,\n    style: {\n      display: 'flex',\n      justifyContent: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    style: {\n      width: 300,\n      margin: '15px',\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'space-between'\n    },\n    cover: /*#__PURE__*/React.createElement(\"img\", {\n      alt: \"example\",\n      src: article.urlToImage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }\n    }),\n    actions: [/*#__PURE__*/React.createElement(Icon, {\n      type: \"read\",\n      key: \"ellipsis2\",\n      onClick: () => showModal(article.title, article.content),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Icon, {\n      type: \"delete\",\n      key: \"ellipsis\",\n      onClick: () => deleteArticle(article.title),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }\n    })],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Meta, {\n    title: article.title,\n    description: article.description,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Modal, {\n    title: title,\n    visible: visible,\n    onOk: handleOk,\n    onCancel: handleCancel,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 15\n    }\n  }, title))))));\n}\n\nfunction mapStateToProps(state) {\n  return {\n    myArticles: state.wishList,\n    token: state.token\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    deleteToWishList: function (articleTitle) {\n      dispatch({\n        type: 'deleteArticle',\n        title: articleTitle\n      });\n    },\n    saveArticles: function (articles) {\n      dispatch({\n        type: 'saveArticles',\n        articles: articles\n      });\n    }\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ScreenMyArticles);","map":{"version":3,"sources":["C:/Users/user/lacapsule/final/morningnews/reactapp/src/ScreenMyArticles.js"],"names":["React","useState","useEffect","Card","Icon","Modal","Nav","connect","Meta","ScreenMyArticles","props","visible","setVisible","title","setTitle","content","setContent","langFiltre","setLangFiltre","findArticlesWishList","dataWishlist","fetch","token","body","json","saveArticles","articles","deleteArticle","deleteToWishList","deleteReq","method","headers","filtreLang","lang","showModal","handleOk","e","console","log","handleCancel","noArticles","myArticles","marginTop","display","justifyContent","alignItems","width","margin","cursor","map","article","i","flexDirection","urlToImage","description","mapStateToProps","state","wishList","mapDispatchToProps","dispatch","articleTitle","type"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport './App.css';\r\nimport { Card, Icon, Modal } from 'antd';\r\nimport Nav from './Nav'\r\nimport { connect } from 'react-redux'\r\n\r\nconst { Meta } = Card;\r\n\r\nfunction ScreenMyArticles(props) {\r\n  const [visible, setVisible] = useState(false)\r\n  const [title, setTitle] = useState('')\r\n  const [content, setContent] = useState('')\r\n  const [langFiltre, setLangFiltre] = useState('')\r\n\r\n  useEffect(() => {\r\n    const findArticlesWishList = async () => {\r\n      const dataWishlist = await fetch(`/wishlist-article?lang=${langFiltre}&token=${props.token}`)\r\n      const body = await dataWishlist.json()\r\n\r\n      props.saveArticles(body.articles)\r\n    }\r\n\r\n    findArticlesWishList()\r\n  }, [langFiltre])\r\n\r\n  var deleteArticle = async (title) => {\r\n    props.deleteToWishList(title)\r\n\r\n  const deleteReq = await fetch('/wishlist-article', {\r\n      method: 'DELETE',\r\n      headers: { 'Content-Type': 'application/x-www-form-urlencoded' },\r\n      body: `title=${title}&token=${props.token}`\r\n    })\r\n  }\r\n  var filtreLang = (lang) => {\r\n    setLangFiltre(lang)\r\n  }\r\n\r\n  var showModal = (title, content) => {\r\n    setVisible(true)\r\n    setTitle(title)\r\n    setContent(content)\r\n  }\r\n  var handleOk = e => {\r\n    console.log(e)\r\n    setVisible(false)\r\n  }\r\n\r\n  var handleCancel = e => {\r\n    console.log(e)\r\n    setVisible(false)\r\n  }\r\n\r\n  var noArticles\r\n  if (props.myArticles == 0) {\r\n    noArticles = <div style={{ marginTop: \"30px\" }}>No Articles</div>\r\n  }\r\n\r\n  return (\r\n    <div>\r\n\r\n      <Nav />\r\n      <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center' }} className=\"Banner\">\r\n        <img style={{ width: '40px', margin: '10px', cursor: 'pointer' }} src='/images/fr.png' onClick={() => filtreLang('fr')} />\r\n        <img style={{ width: '40px', margin: '10px', cursor: 'pointer' }} src='/images/uk.png' onClick={() => filtreLang('en')} />\r\n      </div>\r\n\r\n      {noArticles}\r\n\r\n      <div className=\"Card\">\r\n\r\n        {props.myArticles.map((article, i) => (\r\n          <div key={i} style={{ display: 'flex', justifyContent: 'center' }}>\r\n\r\n            <Card\r\n\r\n              style={{\r\n                width: 300,\r\n                margin: '15px',\r\n                display: 'flex',\r\n                flexDirection: 'column',\r\n                justifyContent: 'space-between'\r\n              }}\r\n              cover={\r\n                <img\r\n                  alt=\"example\"\r\n                  src={article.urlToImage}\r\n                />\r\n              }\r\n              actions={[\r\n                <Icon type=\"read\" key=\"ellipsis2\" onClick={() => showModal(article.title, article.content)} />,\r\n                <Icon type=\"delete\" key=\"ellipsis\" onClick={() => deleteArticle(article.title)} />\r\n              ]}\r\n            >\r\n\r\n              <Meta\r\n                title={article.title}\r\n                description={article.description}\r\n              />\r\n\r\n            </Card>\r\n            <Modal\r\n              title={title}\r\n              visible={visible}\r\n              onOk={handleOk}\r\n              onCancel={handleCancel}\r\n            >\r\n              <p>{title}</p>\r\n            </Modal>\r\n\r\n          </div>\r\n\r\n        ))}\r\n\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return { myArticles: state.wishList, token: state.token }\r\n}\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    deleteToWishList: function (articleTitle) {\r\n      dispatch({\r\n        type: 'deleteArticle',\r\n        title: articleTitle\r\n      })\r\n    },\r\n    saveArticles: function (articles) {\r\n      dispatch({\r\n        type: 'saveArticles',\r\n        articles: articles\r\n      })\r\n    }\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(ScreenMyArticles);\r\n"]},"metadata":{},"sourceType":"module"}