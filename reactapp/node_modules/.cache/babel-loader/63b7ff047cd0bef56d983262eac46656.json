{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\lacapsule\\\\final\\\\morningnews\\\\reactapp\\\\src\\\\ScreenHome.js\";\nimport React, { useState } from 'react';\nimport './App.css';\nimport { Input, Button } from 'antd';\nimport { Link, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nfunction ScreenHome(props) {\n  const [signUpUsername, setSignUpUsername] = useState('');\n  const [signUpEmail, setSignUpEmail] = useState('');\n  const [signUpPassword, setSignUpPassword] = useState('');\n  const [signInEmail, setSignInEmail] = useState('');\n  const [signInPassword, setSignInPassword] = useState('');\n  const [userExists, setUserExists] = useState(false);\n  const [listErrorsSignin, setErrorsSignin] = useState([]);\n  const [listErrorsSignup, setErrorsSignup] = useState([]);\n\n  var handleSubmitSignup = async () => {\n    const data = await fetch('/sign-up', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      },\n      body: `usernameFromFront=${signUpUsername}&emailFromFront=${signUpEmail}&passwordFromFront=${signUpPassword}`\n    });\n    const body = await data.json();\n\n    if (body.result == true) {\n      props.addToken(body.token);\n      setUserExists(true);\n    } else {\n      setErrorsSignup(body.error);\n    }\n  };\n\n  var handleSubmitSignin = async () => {\n    const data = await fetch('/sign-in', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      },\n      body: `emailFromFront=${signInEmail}&passwordFromFront=${signInPassword}`\n    });\n    const body = await data.json();\n\n    if (body.result == true) {\n      props.addToken(body.token);\n      setUserExists(true);\n    } else {\n      setErrorsSignin(body.error);\n    }\n  };\n\n  if (userExists) {\n    return /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/screensource\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 12\n      }\n    });\n  }\n\n  var tabErrorsSignin = listErrorsSignin.map((error, i) => {\n    return /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }\n    }, error);\n  });\n  var tabErrorsSignup = listErrorsSignup.map((error, i) => {\n    return /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }\n    }, error);\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Login-page\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Sign\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    onChange: e => setSignInEmail(e.target.value),\n    className: \"Login-input\",\n    placeholder: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Input.Password, {\n    onChange: e => setSignInPassword(e.target.value),\n    className: \"Login-input\",\n    placeholder: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }), tabErrorsSignin, /*#__PURE__*/React.createElement(Button, {\n    onClick: () => handleSubmitSignin(),\n    style: {\n      width: '80px'\n    },\n    type: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }\n  }, \"Sign-in\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Sign\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    onChange: e => setSignUpUsername(e.target.value),\n    className: \"Login-input\",\n    placeholder: \"username\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    onChange: e => setSignUpEmail(e.target.value),\n    className: \"Login-input\",\n    placeholder: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Input.Password, {\n    onChange: e => setSignUpPassword(e.target.value),\n    className: \"Login-input\",\n    placeholder: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }\n  }), tabErrorsSignup, /*#__PURE__*/React.createElement(Button, {\n    onClick: () => handleSubmitSignup(),\n    style: {\n      width: '80px'\n    },\n    type: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  }, \"Sign-up\")));\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    addToken: function (token) {\n      dispatch({\n        type: 'addToken',\n        token: token\n      });\n    }\n  };\n}\n\nexport default connect(null, mapDispatchToProps)(ScreenHome);","map":{"version":3,"sources":["C:/Users/user/lacapsule/final/morningnews/reactapp/src/ScreenHome.js"],"names":["React","useState","Input","Button","Link","Redirect","connect","ScreenHome","props","signUpUsername","setSignUpUsername","signUpEmail","setSignUpEmail","signUpPassword","setSignUpPassword","signInEmail","setSignInEmail","signInPassword","setSignInPassword","userExists","setUserExists","listErrorsSignin","setErrorsSignin","listErrorsSignup","setErrorsSignup","handleSubmitSignup","data","fetch","method","headers","body","json","result","addToken","token","error","handleSubmitSignin","tabErrorsSignin","map","i","tabErrorsSignup","e","target","value","width","mapDispatchToProps","dispatch","type"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport './App.css';\r\nimport { Input, Button } from 'antd';\r\nimport { Link, Redirect } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\n\r\nfunction ScreenHome(props) {\r\n\r\n  const [signUpUsername, setSignUpUsername] = useState('')\r\n  const [signUpEmail, setSignUpEmail] = useState('')\r\n  const [signUpPassword, setSignUpPassword] = useState('')\r\n\r\n  const [signInEmail, setSignInEmail] = useState('')\r\n  const [signInPassword, setSignInPassword] = useState('')\r\n\r\n  const [userExists, setUserExists] = useState(false)\r\n\r\n  const [listErrorsSignin, setErrorsSignin] = useState([])\r\n  const [listErrorsSignup, setErrorsSignup] = useState([])\r\n\r\n  var handleSubmitSignup = async () => {\r\n\r\n    const data = await fetch('/sign-up', {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/x-www-form-urlencoded' },\r\n      body: `usernameFromFront=${signUpUsername}&emailFromFront=${signUpEmail}&passwordFromFront=${signUpPassword}`\r\n    })\r\n\r\n    const body = await data.json()\r\n\r\n    if (body.result == true) {\r\n      props.addToken(body.token)\r\n      setUserExists(true)\r\n\r\n    } else {\r\n      setErrorsSignup(body.error)\r\n    }\r\n  }\r\n\r\n  var handleSubmitSignin = async () => {\r\n\r\n    const data = await fetch('/sign-in', {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/x-www-form-urlencoded' },\r\n      body: `emailFromFront=${signInEmail}&passwordFromFront=${signInPassword}`\r\n    })\r\n\r\n    const body = await data.json()\r\n\r\n    if (body.result == true) {\r\n      props.addToken(body.token)\r\n      setUserExists(true)\r\n\r\n    } else {\r\n      setErrorsSignin(body.error)\r\n    }\r\n  }\r\n\r\n  if (userExists) {\r\n    return <Redirect to='/screensource' />\r\n  }\r\n\r\n  var tabErrorsSignin = listErrorsSignin.map((error, i) => {\r\n    return (<p>{error}</p>)\r\n  })\r\n\r\n  var tabErrorsSignup = listErrorsSignup.map((error, i) => {\r\n    return (<p>{error}</p>)\r\n  })\r\n\r\n\r\n\r\n  return (\r\n    <div className=\"Login-page\" >\r\n\r\n      {/* SIGN-IN */}\r\n\r\n      <div className=\"Sign\">\r\n\r\n        <Input onChange={(e) => setSignInEmail(e.target.value)} className=\"Login-input\" placeholder=\"email\" />\r\n\r\n        <Input.Password onChange={(e) => setSignInPassword(e.target.value)} className=\"Login-input\" placeholder=\"password\" />\r\n\r\n        {tabErrorsSignin}\r\n\r\n        <Button onClick={() => handleSubmitSignin()} style={{ width: '80px' }} type=\"primary\">Sign-in</Button>\r\n\r\n      </div>\r\n\r\n      {/* SIGN-UP */}\r\n\r\n      <div className=\"Sign\">\r\n\r\n        <Input onChange={(e) => setSignUpUsername(e.target.value)} className=\"Login-input\" placeholder=\"username\" />\r\n\r\n        <Input onChange={(e) => setSignUpEmail(e.target.value)} className=\"Login-input\" placeholder=\"email\" />\r\n\r\n        <Input.Password onChange={(e) => setSignUpPassword(e.target.value)} className=\"Login-input\" placeholder=\"password\" />\r\n\r\n        {tabErrorsSignup}\r\n\r\n        <Button onClick={() => handleSubmitSignup()} style={{ width: '80px' }} type=\"primary\">Sign-up</Button>\r\n\r\n      </div>\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    addToken: function (token) {\r\n      dispatch({ type: 'addToken', token: token })\r\n    }\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  null,\r\n  mapDispatchToProps\r\n)(ScreenHome)\r\n"]},"metadata":{},"sourceType":"module"}