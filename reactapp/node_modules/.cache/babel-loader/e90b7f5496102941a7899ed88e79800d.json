{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\lacapsule\\\\final\\\\morningnews\\\\reactapp\\\\src\\\\ScreenArticlesBySource.js\";\nimport React, { useState, useEffect } from 'react';\nimport './App.css';\nimport { Card, Icon, Modal } from 'antd';\nimport Nav from './Nav';\nimport { connect } from 'react-redux';\nconst {\n  Meta\n} = Card;\n\nfunction ScreenArticlesBySource(props) {\n  const [articleList, setArticleList] = useState([]);\n  const [visible, setVisible] = useState(false);\n  const [title, setTitle] = useState('');\n  const [content, setContent] = useState('');\n  useEffect(() => {\n    const findArticles = async () => {\n      const data = await fetch(`https://newsapi.org/v2/top-headlines?sources=${props.match.params.id}&apiKey=9eb9906084b44191881f01704397af0b`, {\n        method: 'GET',\n        headers: {\n          \"Connection\": \"Upgrade\"\n        },\n        mode: 'cors',\n        cache: 'default'\n      });\n      const body = await data.json();\n      console.log(body);\n      setArticleList(body.articles);\n    };\n\n    findArticles();\n  }, []);\n\n  var showModal = (title, content) => {\n    setVisible(true);\n    setTitle(title);\n    setContent(content);\n  };\n\n  var handleOk = e => {\n    console.log(e);\n    setVisible(false);\n  };\n\n  var handleCancel = e => {\n    console.log(e);\n    setVisible(false);\n  };\n\n  var saveArticle = async article => {\n    props.addToWishList(article);\n    const saveReq = await fetch('/wishlist-article', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      },\n      body: `name=${article.title}&content=${article.content}&desc=${article.description}&lang=${props.selectedLang}&img=${article.urlToImage}&token=${props.token}`\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Nav, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Banner\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  }, articleList.map((article, i) => /*#__PURE__*/React.createElement(\"div\", {\n    key: i,\n    style: {\n      display: 'flex',\n      justifyContent: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    style: {\n      width: 300,\n      margin: '15px',\n      display: 'flex',\n      flexDirection: 'column',\n      justifyContent: 'space-between'\n    },\n    cover: /*#__PURE__*/React.createElement(\"img\", {\n      alt: \"example\",\n      src: article.urlToImage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }\n    }),\n    actions: [/*#__PURE__*/React.createElement(Icon, {\n      type: \"read\",\n      key: \"ellipsis2\",\n      onClick: () => showModal(article.title, article.content),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Icon, {\n      type: \"like\",\n      key: \"ellipsis\",\n      onClick: () => {\n        saveArticle(article);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }\n    })],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Meta, {\n    title: article.title,\n    description: article.description,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Modal, {\n    title: title,\n    visible: visible,\n    onOk: handleOk,\n    onCancel: handleCancel,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 15\n    }\n  }, title))))));\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    addToWishList: function (article) {\n      dispatch({\n        type: 'addArticle',\n        articleLiked: article\n      });\n    }\n  };\n}\n\nfunction mapStateToProps(state) {\n  return {\n    token: state.token,\n    selectedLang: state.selectedLang\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ScreenArticlesBySource);","map":{"version":3,"sources":["C:/Users/user/lacapsule/final/morningnews/reactapp/src/ScreenArticlesBySource.js"],"names":["React","useState","useEffect","Card","Icon","Modal","Nav","connect","Meta","ScreenArticlesBySource","props","articleList","setArticleList","visible","setVisible","title","setTitle","content","setContent","findArticles","data","fetch","match","params","id","method","headers","mode","cache","body","json","console","log","articles","showModal","handleOk","e","handleCancel","saveArticle","article","addToWishList","saveReq","description","selectedLang","urlToImage","token","map","i","display","justifyContent","width","margin","flexDirection","mapDispatchToProps","dispatch","type","articleLiked","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport './App.css';\r\nimport { Card, Icon, Modal } from 'antd';\r\nimport Nav from './Nav'\r\nimport { connect } from 'react-redux'\r\n\r\nconst { Meta } = Card;\r\n\r\nfunction ScreenArticlesBySource(props) {\r\n\r\n  const [articleList, setArticleList] = useState([])\r\n\r\n  const [visible, setVisible] = useState(false)\r\n  const [title, setTitle] = useState('')\r\n  const [content, setContent] = useState('')\r\n\r\n  useEffect(() => {\r\n    const findArticles = async () => {\r\n\r\n      const data = await fetch(`https://newsapi.org/v2/top-headlines?sources=${props.match.params.id}&apiKey=9eb9906084b44191881f01704397af0b`,\r\n        {\r\n          method: 'GET',\r\n          headers: { \"Connection\": \"Upgrade\" },\r\n          mode: 'cors',\r\n          cache: 'default'\r\n        }\r\n      )\r\n      const body = await data.json()\r\n      console.log(body)\r\n      setArticleList(body.articles)\r\n    }\r\n\r\n    findArticles()\r\n  }, [])\r\n\r\n  var showModal = (title, content) => {\r\n    setVisible(true)\r\n    setTitle(title)\r\n    setContent(content)\r\n\r\n  }\r\n\r\n  var handleOk = e => {\r\n    console.log(e)\r\n    setVisible(false)\r\n  }\r\n\r\n  var handleCancel = e => {\r\n    console.log(e)\r\n    setVisible(false)\r\n  }\r\n\r\n  var saveArticle = async article => {\r\n    props.addToWishList(article)\r\n\r\n    const saveReq = await fetch('/wishlist-article', {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/x-www-form-urlencoded' },\r\n      body: `name=${article.title}&content=${article.content}&desc=${article.description}&lang=${props.selectedLang}&img=${article.urlToImage}&token=${props.token}`\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div>\r\n\r\n      <Nav />\r\n\r\n      <div className=\"Banner\" />\r\n\r\n      <div className=\"Card\">\r\n        {articleList.map((article, i) => (\r\n          <div key={i} style={{ display: 'flex', justifyContent: 'center' }}>\r\n\r\n            <Card\r\n\r\n              style={{\r\n                width: 300,\r\n                margin: '15px',\r\n                display: 'flex',\r\n                flexDirection: 'column',\r\n                justifyContent: 'space-between'\r\n              }}\r\n              cover={\r\n                <img\r\n                  alt=\"example\"\r\n                  src={article.urlToImage}\r\n                />\r\n              }\r\n              actions={[\r\n                <Icon type=\"read\" key=\"ellipsis2\" onClick={() => showModal(article.title, article.content)} />,\r\n                <Icon type=\"like\" key=\"ellipsis\" onClick={() => { saveArticle(article) }} />\r\n              ]}\r\n            >\r\n\r\n              <Meta\r\n                title={article.title}\r\n                description={article.description}\r\n              />\r\n\r\n            </Card>\r\n            <Modal\r\n              title={title}\r\n              visible={visible}\r\n              onOk={handleOk}\r\n              onCancel={handleCancel}\r\n            >\r\n              <p>{title}</p>\r\n            </Modal>\r\n\r\n          </div>\r\n\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    addToWishList: function (article) {\r\n      dispatch({\r\n        type: 'addArticle',\r\n        articleLiked: article\r\n      })\r\n    }\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return { token: state.token, selectedLang: state.selectedLang }\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(ScreenArticlesBySource)\r\n"]},"metadata":{},"sourceType":"module"}